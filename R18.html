<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>r18</title>
    <style>
        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            margin: 0;
            position: relative;
            background-repeat: no-repeat;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            background-size: contain;
            background-color: #f0f0f0;
        }

        @media screen and (min-aspect-ratio: 1/1) {
            body {
                background-size: cover;
                background-position: center top;
            }
        }

        .text-box {
            text-align: center;
            background: rgba(255, 255, 255, 0.573);
            padding: 5px 40px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            z-index: 10;
        }

        h1 {
            line-height: 1.2;
            font-size: 70px;
            margin: 20px 0;
            color: #333;
        }

        p {
            font-size: 30px;
            margin: 10px 0;
            color: #444;
        }

        h4 {
            font-size: 30px;
            margin: 10px 0;
            color: #444;
        }

        a {
            font-size: 10px;
            border-radius: 5px;
            position: absolute;
            top: 1%;
        }

        .age-btn {
            z-index: 10;
        }
    </style>
</head>
<body>
    <a href="./关于我们.html">关于我们</a >
    <div class="text-box">
        <h1>您是否满了18</h1>
        <p>以下内容可能不适合未满18岁的人群观看，我们需要确认您的年龄。</p >
        <h4>The following may not be suitable for people under the age of 18 and<br>we need to confirm your age.</h4>
    </div>

    <a href="./assets/1994的微笑.mp4" class="age-btn" style="display: inline-block; background: #ff2828; 
            text-align: center; color: #fff; text-decoration: none; padding: 15px 25px;
            position: fixed; 
            top: 450px; 
            left: 50%; 
            transform: translate(-50%, -50%);">
    是
    </a >

    <a href="https://xingye.me/game/index.php" class="age-btn" style="display: inline-block; background: #494949;
            text-align: center; color: #fff; text-decoration: none; padding: 15px 25px;
            position: fixed; 
            top: 480px; 
            left: 50%; 
            transform: translateX(-50%);">
    否
    </a >

<script>
window.addEventListener('load', function() {
    // 自动获取当前页面的根路径，适配仓库子路径
    const getBasePath = () => {
        const pathname = window.location.pathname;
        const index = pathname.lastIndexOf('/');
        // 如果是根域名直接访问，返回空；如果是仓库路径，返回仓库名
        return index > 0 ? pathname.substring(0, index) : '';
    };
    const basePath = getBasePath();

    // 拼接正确的资源路径
    const bgImgList = [
        basePath + "/assets/45c71a679f061e0049539a6d0cc74d28.jpg",
        basePath + "/assets/微信图片_20260117205931_5_21.jpg",
        basePath + "/assets/微信图片_20260117205932_6_21.jpg",
        basePath + "/assets/微信图片_20260117205933_7_21.jpg",
        basePath + "/assets/微信图片_20260117205935_8_21.jpg",
        basePath + "/assets/微信图片_20260117205936_9_21.jpg",
        basePath + "/assets/微信图片_20260117205936_10_21.png",
        basePath + "/assets/微信图片_20260117205937_11_21.jpg",
        basePath + "/assets/微信图片_20260117205938_12_21.jpg"
    ];

    const randomIndex = Math.floor(Math.random() * bgImgList.length);
    const randomBgUrl = bgImgList[randomIndex] + "?v=" + Date.now();

    // 图片预加载 + 加载失败提示
    const bgImg = new Image();
    bgImg.src = randomBgUrl;
    bgImg.onload = function() {
        document.body.style.backgroundImage = `url(${randomBgUrl})`;
    };
    bgImg.onerror = function() {
        console.error("【资源加载失败】请检查文件是否上传至 assets 文件夹，路径：", randomBgUrl);
        document.body.style.backgroundColor = "#e0e0e0";
    };

    // 同时修复视频链接的路径
    const videoLink = document.querySelector('.age-btn[href*="assets/48d81f48e18c5eeadeec836d74d2a9ff.mp4"]');
    if(videoLink) {
        videoLink.href = basePath + "/assets/48d81f48e18c5eeadeec836d74d2a9ff.mp4";
    }
});
</script>
</body>
</html>